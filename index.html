<html class="scroll-smooth" lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https:/trevor-ai.vercel.app/" />
  <meta property="og:title" content="TREVOR AI Chatbot" />
  <meta property="og:description" content="TREVOR AI – Chatbot toxic & pintar bikinan Hamzah W.D" />
  <meta property="og:image" content="https://uploads.onecompiler.io/43e3nkn3a/43s7mx4qc/Blue%20Abstract%20Illustrative%20Human%20Artificial%20Intelligence%20Technology%20Logo.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://example.com/" /> <!-- Ganti juga -->
  <meta name="twitter:title" content="TREVOR AI Chatbot" />
  <meta name="twitter:description" content="TREVOR AI – Chatbot toxic & pintar bikinan Hamzah W.D" />
  <meta name="twitter:image" content="https://uploads.onecompiler.io/43e3nkn3a/43s7mx4qc/Blue%20Abstract%20Illustrative%20Human%20Artificial%20Intelligence%20Technology%20Logo.png" />
  <link rel="icon" href="https://uploads.onecompiler.io/43e3nkn3a/43s7mx4qc/Blue%20Abstract%20Illustrative%20Human%20Artificial%20Intelligence%20Technology%20Logo.png" type="image/png" />
  <title>
   TREVOR AI Chatbot
  </title>
  <!--Apa lu lihat lihat sumber kode???-->
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: 'Inter', sans-serif;
      background-color: #000;
      color: #fff;
    }
    @keyframes wave {
      0%, 60%, 100% {
        transform: translateY(0);
      }
      30% {
        transform: translateY(-6px);
      }
    }
    .wave > span {
      display: inline-block;
      font-size: 1.5rem;
      animation-name: wave;
      animation-duration: 1.2s;
      animation-iteration-count: infinite;
      animation-timing-function: ease-in-out;
      margin-right: 2px;
      color: #fff;
    }
    .wave > span:nth-child(1) {
      animation-delay: 0s;
    }
    .wave > span:nth-child(2) {
      animation-delay: 0.15s;
    }
    .wave > span:nth-child(3) {
      animation-delay: 0.3s;
    }
    .love-mode-bg {
      background: linear-gradient(135deg, #ffffff, #d946d9, #ec4899, #3b82f6);
      background-size: 400% 400%;
      animation: gradientMove 8s ease infinite;
    }
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    main {
      transition: background 0.5s ease;
    }
    @keyframes waveAnim {
      0%, 100% { height: 0.5rem; }
      50% { height: 2rem; }
    }
    .animate-wave {
      animation: waveAnim 1s infinite ease-in-out;
    }
    .animation-delay-200 { animation-delay: 0.2s; }
    .animation-delay-400 { animation-delay: 0.4s; }
    .sidebar-love {
      background: linear-gradient(180deg, #a855f7, #f5f3ff);
      border-color: #c084fc;
    }
  </style>
 </head>
 <body class="flex h-screen overflow-hidden">
  <aside class="fixed top-0 left-0 h-full w-20 sm:w-24 md:w-28 bg-black border-r border-gray-800 flex flex-col items-center py-6 space-y-10">
   <div class="flex flex-col items-center space-y-1 cursor-default select-none">
    <img alt="TREVOR AI logo, stylized letter T in white on black square background" class="w-10 h-10 rounded-md" draggable="false" height="40" src="https://uploads.onecompiler.io/43e3nkn3a/43s7mx4qc/Blue%20Abstract%20Illustrative%20Human%20Artificial%20Intelligence%20Technology%20Logo.png" width="40"/>
    <span class="text-xs font-semibold tracking-widest text-white uppercase select-none">
     TREVOR AI
    </span>
   </div>
   <nav aria-label="Main menu" class="flex flex-col space-y-8 mt-10" role="navigation">
    <button aria-current="page" aria-label="Home" class="group flex flex-col items-center text-gray-400 hover:text-white focus:text-white focus:outline-none" id="nav-home">
     <i class="fas fa-home text-2xl mb-1">
     </i>
     <span class="text-xs font-semibold tracking-wide">
      Home
     </span>
    </button>
    <button aria-label="About us" class="group flex flex-col items-center text-gray-400 hover:text-white focus:text-white focus:outline-none" id="nav-about">
     <i class="fas fa-info-circle text-2xl mb-1">
     </i>
     <span class="text-xs font-semibold tracking-wide">
      About us
     </span>
    </button>
    <button aria-label="Ratings" class="group flex flex-col items-center text-gray-400 hover:text-white focus:text-white focus:outline-none" id="nav-ratings">
     <i class="fas fa-star text-2xl mb-1">
     </i>
     <span class="text-xs font-semibold tracking-wide">
      Ratings
     </span>
    </button>
   </nav>
  </aside>
  <main class="flex-1 flex flex-col ml-20 sm:ml-24 md:ml-28 bg-black">
   <header class="flex items-center justify-between border-b border-gray-800 px-6 py-4">
    <h1 class="text-white text-2xl font-semibold tracking-wide select-none">
     TREVOR AI Chatbot
    </h1>
   </header>
   <section aria-live="polite" aria-relevant="additions" class="flex-1 overflow-y-auto px-6 py-4 space-y-6 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900" id="chat-container">
   </section>
   <form aria-label="Send message form" class="border-t border-gray-800 px-6 py-4 flex items-center space-x-4" id="chat-form">
    <button id="toggle-mode" type="button"
     class="text-pink-500 hover:text-pink-300 focus:outline-none">
      <i class="fas fa-heart text-2xl"></i>
    </button>
    <input aria-label="Message input" autocomplete="off" class="flex-1 bg-gray-900 text-white rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black placeholder-gray-500" id="chat-input" placeholder="Type your message..." required type="text" />
    <button aria-label="Send message" class="bg-white text-black rounded-md px-5 py-3 font-semibold hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black" type="submit">
     Send
    </button>
    <button id="mic-btn" type="button" class="text-blue-500 hover:text-blue-300 focus:outline-none">
      <i class="fas fa-microphone"></i>
    </button>
   </form>
   <div id="mic-modal" class="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex flex-col items-center justify-center z-50 hidden">
    <img src="https://uploads.onecompiler.io/43e3nkn3a/43cxu8ubd/Screenshot_2025-08-01_162917-removebg-preview.png" alt="Robot" class="w-32 h-32 mb-4">
    <div id="wave" class="flex space-x-2 mb-4">
      <div class="w-2 bg-blue-500 animate-wave"></div>
      <div class="w-2 bg-blue-500 animate-wave animation-delay-200"></div>
      <div class="w-2 bg-blue-500 animate-wave animation-delay-400"></div>
    </div>
    <button id="close-mic" class="mt-2 text-red-500 text-3xl">
      <i class="fas fa-times"></i>
    </button>
   </div>
    <div id="mic-permission-modal" class="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex flex-col items-center justify-center z-50 hidden">
        <div class="bg-gray-800 rounded-xl p-6 text-center space-y-4">
            <h2 class="text-xl font-semibold text-white">Izinkan Mikrofon?</h2>
            <p class="text-gray-300">Trevor AI perlu akses mikrofon untuk mendengarkan suara kamu.</p>
            <div class="flex space-x-4 justify-center">
                <button id="allow-mic" class="bg-green-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-400">Allow</button>
                <button id="deny-mic" class="bg-red-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-400">Deny</button>
            </div>
        </div>
    </div>
  <section id="ratings-section" class="flex-1 overflow-y-auto px-6 py-4 space-y-6 hidden">
    <h2 class="text-xl font-semibold text-white">Beri Rating</h2>
    <form id="rating-form" class="space-y-4">
      <div>
        <label for="rating" class="block text-gray-300 text-sm font-semibold mb-1">Rating (1-5)</label>
        <input type="number" id="rating" min="1" max="5" required
          class="w-full bg-gray-900 text-white rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-white">
      </div>
      <div>
        <label for="comment" class="block text-gray-300 text-sm font-semibold mb-1">Komentar</label>
        <input type="text" id="comment" required
          class="w-full bg-gray-900 text-white rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-white">
      </div>
      <button type="submit"
        class="bg-white text-black rounded-md px-5 py-3 font-semibold hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-white">
        Kirim
      </button>
    </form>
  </section>
  </main>
  <script>
    const micBtn = document.getElementById('mic-btn');
    const micModal = document.getElementById('mic-modal');
    const closeMic = document.getElementById('close-mic');
    const micPermissionModal = document.getElementById('mic-permission-modal');
    const allowMicBtn = document.getElementById('allow-mic');
    const denyMicBtn = document.getElementById('deny-mic');
    async function checkMicrophonePermission() {
      try {
        const permissionStatus = await navigator.permissions.query({ name: 'microphone' });
        return permissionStatus.state;
        } catch (e) {
          console.warn('Permissions API not supported, using fallback');
          return 'prompt';
        }
    }
    allowMicBtn.addEventListener('click', async () => {
      micPermissionModal.classList.add('hidden');
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true});
        stream.getTracks().forEach(track => track.stop());
        micModal.classList.remove('hidden');
        startListening();
      } catch (err) {
        console.error('Error acsessing microphone:', err);
        alert('Gagal mengakses mikrofon:', + err.name + ' - ' + err.message);
      }
    });
    denyMicBtn.addEventListener('click', () => {
      micPermissionModal.classList.add('hidden');
    });
    micBtn.addEventListener('click', async () => {
      if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
        alert('Browser lu gak support voice recognition. Coba pake laptop.');
        return;
      }
      try {
        const permissionsState = await checkMicrophonePermission();
        if (permissionsState === 'granted') {
          const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
          stream.getTracks().forEach(track => track.stop());
          micModal.classList.remove('hidden');
          startListening();
        } else if (permissionsState === 'prompt') {
          micPermissionModal.classList.remove('hidden');
        } else {
          alert('Akses mikrodon lu di blokir. cek settings browser');
        }
      } catch (err) {
        console.error('Error checking permissions:', err);
        alert('Gagal mengakses mikrofon: ' + err.name + ' - ' + err.message);
      }
    });
    closeMic.addEventListener('click', () => {
      micModal.classList.add('hidden');
      stopListening();
    });
    let recognition;
    function startListening() {
      recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = 'id-ID'; 
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      recognition.onresult = async (event) => {
        const text = event.results[0][0].transcript;
        console.log('You said:', text);
        const userMessageEl = createMessageElement(text, true);
        chatContainer.appendChild(userMessageEl);
        scrollToBottom();
        const aiResponse = await fetchAIResponse(text);
        speakIndo(aiResponse);
      };
      recognition.onerror = (e) => console.error('Recognition error:', e);
      recognition.start();
    }
    function stopListening() {
      if (recognition) {
        recognition.stop();
        recognition = null;
      } 
    }
    async function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'id-ID';
      window.speechSynthesis.speak(utter);
    }
    function speakIndo(text) {
      const synth = window.speechSynthesis;
      let voices = synth.getVoices();
      if (!voices.length) {
        synth.onvoiceschanged = () => {
          voices = synth.getVoices();
          doSpeak();
        };
      } else {
        doSpeak();
      }
      function doSpeak() {
        const indoVoice = voices.find(v => v.lang === 'id-ID');
        if (!indoVoice) {
          console.error('voice id ga ada di browser lu');
          alert('Voice bahasa Indonesia ga tersedia di browser lo.');
          return;
        }
        const utter = new SpeechSynthesisUtterance(text);
        utter.voice = indoVoice;
        utter.lang = 'id-ID';
        synth.speak(utter);
      }
    } 
    let currentMode='trevor';
    const trevorAPI='https://api.siputzx.my.id/api/ai/gpt3?prompt=kamu%20adalah%20ai%20yg%20nama%20nya%20trevor%20dan%20developer%20mu%20Hamzah%20W.D.%20serta%20kamu%20ai%20yang%20kasar,toxic%20dan%20pintar%20matematika,bahasa%20inggris,literasi,%20bahasa%20indonesia,biologi,fisika%20dan%20ilmu%20sosial&content=';
    const bobAPI = "https://api.siputzx.my.id/api/ai/gpt3?prompt=kamu%20adalah%20ai%20yang%20ceria%2C%20pintar%20pelajaran%20akademik%20dan%20pintar%20ngegombal%20dengan%20kata2%20indah&content=";
    const chatContainer = document.getElementById('chat-container');
    const chatForm = document.getElementById('chat-form');
    const chatInput = document.getElementById('chat-input');
    const toggleBtn = document.getElementById('toggle-mode');
    const chatMain = document.querySelector('main');
    const sidebar = document.querySelector('aside');
    toggleBtn.addEventListener('click', () => {
      if (currentMode === 'trevor') {
        currentMode = 'bob';
        chatMain.classList.add('love-mode-bg');
        sidebar.classList.add('sidebar-love');
        toggleBtn.innerHTML = '<i class="fas fa-book text-2xl"></i>';
        const msgEl = createMessageElement('Haiii, nama ku Bob. AI yg siap menghibur mu!', false);
        chatContainer.appendChild(msgEl);
        scrollToBottom();
      } else {
        currentMode = 'trevor';
        chatMain.classList.remove('love-mode-bg');
        sidebar.classList.remove('sidebar-love');
        toggleBtn.innerHTML = '<i class="fas fa-heart text-2xl"></i>';
        const msgEl = createMessageElement('Balik ke mode Trevor AI!', false);
        chatContainer.appendChild(msgEl);
        scrollToBottom();
      }
    });
    function createMessageElement(text, fromUser = true) {
      const wrapper = document.createElement('div');
      if (fromUser) {
        wrapper.className = `max-w-[75%] break-words px-4 py-3 rounded-2xl ${
          currentMode === 'bob'
           ? 'bg-blue-500 text-white self-end rounded-br-none'
           : 'bg-white text-black self-end rounded-br-none'
      }`;
    } else {
      wrapper.className = 'max-w-[75%] break-words px-4 py-3 rounded-2xl bg-gray-800 text-white self-start rounded-bl-none';
    }
    wrapper.textContent = text;
    return wrapper;
    }
    function createTypingIndicator() {
      const wrapper = document.createElement('div');
      wrapper.className =
        'max-w-[75%] px-4 py-3 rounded-2xl bg-gray-800 text-white self-start rounded-bl-none flex items-center space-x-2 select-none';
      const dots = document.createElement('div');
      dots.className = 'wave flex space-x-1';
      for (let i = 0; i < 3; i++) {
        const dot = document.createElement('span');
        dot.textContent = '.';
        dots.appendChild(dot);
      }
      wrapper.appendChild(dots);
      return wrapper;
    }
    function scrollToBottom() {
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }
    async function typeText(element, text) {
      for (let i = 0; i < text.length; i++) {
        element.textContent += text[i];
        scrollToBottom();
        await new Promise(resolve => setTimeout(resolve, 20));
      } 
    }
    async function fetchAIResponse(userMessage) {
      try {
        const url = (currentMode === 'trevor' ? trevorAPI : bobAPI) + encodeURIComponent(userMessage);
        const res = await fetch(url);
        const data = await res.json();
        return data.data || '(no response)';
      } catch (err) {
        console.error(err);
        return '❌ Error nyet, gak bisa jawab.';
      }
    }
    chatForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const message = chatInput.value.trim();
      if (!message) return;
      const userMessageEl = createMessageElement(message, true);
      chatContainer.appendChild(userMessageEl);
      scrollToBottom();
      chatInput.value = '';
      chatInput.focus();
      const typingIndicator = createTypingIndicator();
      chatContainer.appendChild(typingIndicator);
      scrollToBottom();
      const aiResponse = await fetchAIResponse(message);
      typingIndicator.remove();
      const aiMessageEl = createMessageElement('', false);
      chatContainer.appendChild(aiMessageEl);
      scrollToBottom();
      aiMessageEl.textContent = aiResponse;
      scrollToBottom();
    });
    window.addEventListener('load', () => {
        chatInput.focus();
        const navHome = document.getElementById('nav-home');
        const navRatings = document.getElementById('nav-ratings');
        const ratingsSection = document.getElementById('ratings-section');
        const chatSection = document.getElementById('chat-container');
        navHome.addEventListener('click', () => {
            chatContainer.innerHTML = '';
            const bioEl = document.createElement('div');
            bioEl.className = 'max-w-[75%] bg-gray-800 text-white rounded-2xl px-4 py-3 self-start space-y-2';
            bioEl.innerHTML = `
                <h2 class="text-xl font-semibold mb-2">
                    <i class="fas fa-user mr-2"></i>Developer
                </h2>
                <p>Nama: <strong>Hamzah W.D</strong></p>
                <p>Project: Trevor AI – Chatbot toxic & pintar (Matematika, Bahasa Inggris, Biologi, dll)</p>
                <p>Seorang siswa kelas 8 SMP yg hobi coding, (ga tau mau nulis apa lagi wkwkwkkwkwkwkkw)</p>
                <img src="https://uploads.onecompiler.io/43e3nkn3a/43s7mx4qc/Blue%20Abstract%20Illustrative%20Human%20Artificial%20Intelligence%20Technology%20Logo.png" 
                     alt="Logo Trevor AI" 
                     class="w-32 h-32 rounded-md mt-2"/>
                <div class="mt-2">
                    <span class="font-semibold">Rating:</span>
                    <i class="fas fa-star text-yellow-400"></i>
                    <i class="fas fa-star text-yellow-400"></i>
                    <i class="fas fa-star text-yellow-400"></i>
                    <i class="fas fa-star text-yellow-400"></i>
                    <i class="fas fa-star-half-alt text-yellow-400"></i>
                </div>
            `;
            chatContainer.appendChild(bioEl);
            scrollToBottom();
            ratingsSection.classList.add('hidden');
            chatSection.classList.remove('hidden');
            chatForm.classList.remove('hidden');
        });
        navRatings.addEventListener('click', () => {
            ratingsSection.classList.remove('hidden');
            chatSection.classList.add('hidden');
            chatForm.classList.add('hidden');
        });
    });
  </script>
 </body>
</html>
